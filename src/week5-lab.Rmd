---
title: "Week 5 Coding Lab (Penguin Size Comparisons)"
author: "Jonah Seif"
date: "11/5/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
library(tidyverse)
library(effsize)
library(palmerpenguins)
library(ggbeeswarm)
library(car)
```


# Part 1. T-tests

Mass comparison: male & female chinstrap penguins

```{r}
chinstraps <- penguins %>% 
  filter(species == "Chinstrap")

## Histograms
ggplot(data = chinstraps, aes(x = body_mass_g))+
  geom_histogram(bins = 10) +
  facet_wrap(~sex)

## QQ-plot
ggplot(data = chinstraps, aes(sample = body_mass_g)) +
  geom_qq()+
  facet_wrap(~sex)

## Get descriptive statistics
chinstraps %>% 
  group_by(sex) %>% 
  summarise(mean_mass = mean(body_mass_g),
            median_mass = median(body_mass_g),
            sd_mass = sd(body_mass_g),
            sample_size = n())
```

Get vectors of body_mass_g for female and male chinstrap penguins separately.

```{r}
chinstraps_f <- chinstraps %>% 
  filter(sex == "female") %>% 
  pull(body_mass_g)

chinstraps_m <- chinstraps %>% 
  filter(sex == "male") %>% 
  pull(body_mass_g)
```


### T-tests, a couple different ways

1. Is there a significant difference in body mass between male and female chinstrap penguins?

```{r}
chinstrap_ttest <- t.test(chinstraps_f, chinstraps_m)

chinstrap_ttest

cohen.d(chinstraps_f, chinstraps_m)
```


Are male chinstrap penguins significantly larger (body mass) than female chinstrap penguins?

This is a *one-sided* test - we are only interested in the upper tail. We will still use the `t.test()` function, but update the default `alternative = ` argument from "two-sided" to "greater" or "less."

```{r}
# "Is mean male mass significantly GREATER than female mass?"
t.test(chinstraps_m, chinstraps_f, alternative = "greater")

# Yields the same statistical outcomes as "Is mean female mass significantly LESS than male mass?" 
t.test(chinstraps_f, chinstraps_m, alternative = "less")
```















